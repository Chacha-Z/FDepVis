[{"D:\\Code\\FDepVis\\src\\index.js":"1","D:\\Code\\FDepVis\\src\\Dashboard.js":"2","D:\\Code\\FDepVis\\src\\views\\FamilyTree\\index.js":"3","D:\\Code\\FDepVis\\src\\views\\ScatterPlot\\index.js":"4","D:\\Code\\FDepVis\\src\\views\\FamilySelector\\index.js":"5","D:\\Code\\FDepVis\\src\\views\\AttributesHeatmap\\index.js":"6","D:\\Code\\FDepVis\\src\\views\\DetailInfo\\index.js":"7","D:\\Code\\FDepVis\\src\\redux\\index.js":"8","D:\\Code\\FDepVis\\src\\redux\\actions.js":"9","D:\\Code\\FDepVis\\src\\redux\\reducers.js":"10","D:\\Code\\FDepVis\\src\\redux\\state.js":"11"},{"size":193,"mtime":1572995136000,"results":"12","hashOfConfig":"13"},{"size":1962,"mtime":1609118392372,"results":"14","hashOfConfig":"13"},{"size":15894,"mtime":1609120983050,"results":"15","hashOfConfig":"13"},{"size":8721,"mtime":1609119469186,"results":"16","hashOfConfig":"13"},{"size":3888,"mtime":1608994327503,"results":"17","hashOfConfig":"13"},{"size":10358,"mtime":1609118666047,"results":"18","hashOfConfig":"13"},{"size":8300,"mtime":1609073122487,"results":"19","hashOfConfig":"13"},{"size":285,"mtime":1606035451211,"results":"20","hashOfConfig":"13"},{"size":534,"mtime":1608988664138,"results":"21","hashOfConfig":"13"},{"size":1289,"mtime":1608994797015,"results":"22","hashOfConfig":"13"},{"size":1247,"mtime":1609119712947,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"1jthuuv",{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"29","messages":"30","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"33","messages":"34","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"26"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"38","messages":"39","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\Code\\FDepVis\\src\\index.js",[],["49","50"],"D:\\Code\\FDepVis\\src\\Dashboard.js",["51"],"D:\\Code\\FDepVis\\src\\views\\FamilyTree\\index.js",["52","53","54","55","56","57","58","59"],"D:\\Code\\FDepVis\\src\\views\\ScatterPlot\\index.js",["60","61"],"D:\\Code\\FDepVis\\src\\views\\FamilySelector\\index.js",["62","63","64","65","66","67"],"import React, { Component } from 'react';\nimport './FamilySelector.css';\nimport { Table, Tag, Space } from 'antd';\n// 使用redux\nimport store from '../../redux/index'\nimport action from '../../redux/actions'\n\nexport default class FamilySelector extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dataSource: [],\n            columns: [\n                {\n                    title: 'ID',\n                    dataIndex: 'ID',\n                    key: 'ID'\n                },\n                {\n                    title: 'people',\n                    dataIndex: 'people',\n                    key: 'people'\n                },\n                {\n                    title: 'SNum',\n                    dataIndex: 'SNum',\n                    key: 'SNum'\n                }\n            ]\n        };\n    }\n    componentDidMount(){\n        this.setState({\n            dataSource: store.getState().familyInfo\n        }, ()=>{\n            this.setFocus();\n        });\n        store.subscribe(()=>{\n            this.setFocus();\n        })\n    }\n\n    setFocus(){\n        let focusFamily = store.getState().focusFamily;\n        let nodes = document.getElementsByClassName('ant-table-row');\n        console.log(nodes)\n        for(var i = 0; i < nodes.length; i++){\n            let key = nodes[i].getAttribute('data-row-key')\n            if(key == focusFamily){\n                nodes[i].classList.add('onFocus')\n            }else{\n                nodes[i].classList.remove('onFocus')\n            }\n        }\n    }\n    onRowClick(e){\n        console.log(e)\n    }\n\n    getElementByAttr(tag,attr,value){\n        var aElements=document.getElementsByTagName(tag);\n        var aEle=[];\n        for(var i=0;i<aElements.length;i++)\n        {\n            if(aElements[i].getAttribute(attr)==value)\n                aEle.push( aElements[i] );\n        }\n        return aEle;\n    }\n    render() {\n        return (\n            <div id='FamilySelector' className='pane'>\n                <div className='header'>Family Selector</div>\n                <Table \n                    onRow={record => {\n                        return {\n                            onClick: event => {\n                                console.log(record)\n                                let node = this.getElementByAttr('tr', 'data-row-key', record.key)[0];\n                                let nclasses = node.getAttribute('class');\n                                if(nclasses.indexOf('onSelect') == -1){ // 未选中 - 选中\n                                    node.classList.add('onSelect')\n                                    store.dispatch(action.addFamily(record.ID)) \n                                }else{                                  // 选中\n                                    if(nclasses.indexOf('onFocus') == -1){  // 选中，但未focus - focus\n                                        node.classList.add('onFocus')\n                                        store.dispatch(action.selectFamily(record.ID))\n                                    }else{\n                                        node.classList.remove('onSelect')   // 选中，且focus - 取消选中\n                                        store.dispatch(action.removeFamily(record.ID))\n                                    }\n                                }\n                            }\n                        };\n                    }}\n                    rowClassName={record => {\n                        return  store.getState().selectedFamily.indexOf(record.key) !== -1 ? 'onSelect' : '';\n                    }}\n                    dataSource={this.state.dataSource} columns={this.state.columns} size='small'\n                    pagination={{\n                        hideOnSinglePage: true,\n                        defaultPageSize: 10\n                    }}\n                />\n            </div>\n        )\n    }\n}","D:\\Code\\FDepVis\\src\\views\\AttributesHeatmap\\index.js",["68","69","70","71","72","73","74","75","76","77","78","79","80"],"D:\\Code\\FDepVis\\src\\views\\DetailInfo\\index.js",["81","82","83","84","85","86","87","88"],"import React, { Component } from 'react';\nimport * as d3 from \"d3\";\nimport './DetailInfo.css';\nimport { Row, Col, List, Descriptions} from 'antd';\nimport store from '../../redux/index';\nimport axios from 'axios';\n\nexport default class DetailInfo extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            ID: 'ID: ',\n            img:\"./img/ASPHYXIA.jpg\",\n            data: {\n                ID: 133,\n                Sex: 'M',\n                Birth_Year: 1900,\n                Death_Year: 1950,\n                BMI: 25,\n                Suicide_Weapon: 'Rope',\n                Death_Cause:'Acute carbon monoxide poisoning',\n                suicide_glyphs:''\n            },\n\n\n        }\n    }\n\n\n\n\n    componentDidMount() {\n        store.subscribe(() => {\n            this.uploadData()\n        })\n        this.uploadData()\n    }\n\n\n    uploadData() {\n        const focusPID = store.getState().focusPID\n        axios.get(\"http://106.52.126.175/api/getDetailInfo/\" + '?pid=' + focusPID\n        ).then((res) => {\n            let data = res.data;\n            console.log(\"detailInfo\", data)\n            // if (data.maxbmi == 0) {\n            //     data.maxbmi = 22\n            // }\n            this.setState({\n                ID: 'ID: ' + data.pid,\n                img: \"./img/\" + data.suicide_glyphs + \".png\",\n                data: {\n                    ID: data.pid,\n                    Sex: data.sex,\n                    Birth_Year: data.bdate.slice(0,4),\n                    Death_Year: data.ddate.slice(0,4),\n                    BMI: data.maxbmi.toPrecision(4), //保留四位有效数字\n                    Suicide_Weapon: data.weapon,\n                    Death_Cause: data.cause_death,\n                    \n                },\n    \n            })\n            // document.getElementById(\"BarChart\").innerHTML = ''\n            // document.getElementById(\"Heatmap\").innerHTML = ''\n            this.drawChart()\n        })\n    }\n\n    drawChart() {\n\n        // preserveAspectRatio=\"none\" 不保留长宽比例\n        const man_body = '<svg preserveAspectRatio=\"none\" id=\"man\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2940\" width=\"200\" height=\"200\"><path d=\"M512 88m-88 0a88 88 0 1 0 176 0 88 88 0 1 0-176 0Z\" fill=\"#333333\" p-id=\"2941\"></path><path d=\"M744.9 619.6c-21.3 5.7-43.3-6.9-49-28.3l-64.1-239c-1.2-4.5-7.9-3.6-7.9 1V1008c0 8.8-7.2 16-16 16h-64c-8.8 0-16-7.2-16-16V640c0-8.8-7.2-16-16-16s-16 7.2-16 16v368c0 8.8-7.2 16-16 16h-64c-8.8 0-16-7.2-16-16V353.3c0-4.7-6.7-5.6-7.9-1l-64.1 239c-5.7 21.3-27.7 34-49 28.3-21.3-5.7-34-27.6-28.3-49l69.5-260C339 240.7 402.4 192 474.8 192h74.3c72.5 0 135.9 48.7 154.6 118.7l69.5 260c5.7 21.3-6.9 43.2-28.3 48.9z\" fill=\"#333333\" p-id=\"2942\"></path></svg>'\n\n        const woman_body = '<svg preserveAspectRatio=\"none\" id=\"woman\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2987\" width=\"225\" height=\"225\"><path d=\"M529.218 234.374c43.289 0 81.292 28.8 93 70.475l59.925 213.319c3.427 12.199-3.685 24.867-15.884 28.294-2.02 0.567-4.107 0.855-6.205 0.855-17.951 0-33.758-11.825-38.826-29.046l-53.568-182.01h-16.407l95.16 333.52h-87.43v244.56c0 19.694-15.966 35.659-35.66 35.659-19.693 0-35.658-15.965-35.658-35.659v-244.56h-17.112v245.697c0 18.983-15.39 34.372-34.372 34.372h-0.15c-19.09-0.084-34.522-15.583-34.522-34.673V669.78h-90.078l95.242-333.519h-14.872l-51.123 180.873c-5.047 17.855-21.342 30.183-39.897 30.183-13.136 0-23.785-10.649-23.785-23.785 0-2.17 0.297-4.329 0.882-6.418l59.465-212.205c11.687-41.706 49.705-70.535 93.017-70.535h98.858zM479.962 71c40.643 0 73.59 32.967 73.59 73.634 0 40.666-32.947 73.633-73.59 73.633s-73.59-32.967-73.59-73.633c0-40.667 32.947-73.634 73.59-73.634z\" fill=\"#333333\" p-id=\"2988\"></path></svg>'\n\n        let sex_icon;\n        if(this.state.data.Sex == 'M') {\n            sex_icon = man_body\n        } else if (this.state.data.Sex == 'F'){\n            sex_icon = woman_body\n        }\n        document.getElementById(\"body\").innerHTML = sex_icon\n\n        const height = document.getElementById(\"body\").clientHeight\n        const width = document.getElementById(\"body\").clientWidth\n\n        let bmi = this.state.data.BMI\n\n        if (bmi == 0) {\n            bmi = 22\n        }\n\n        //let new_width = 200;\n        let new_width = width * (bmi / 22)\n        let new_height = height * 0.9\n        console.log(bmi / 22, new_width)\n\n        if (this.state.data.Sex == 'M'){\n        d3.select(\"#man\")\n            .attr('width', new_width)\n            .attr(\"height\", new_height)\n            .attr(\"transform\", `translate(${(200 - new_width) / 2},${new_height * 0.05})`)\n            \n        } else if (this.state.data.Sex == 'F') {\n        d3.select(\"#woman\")\n            .attr('width', new_width)\n            .attr(\"height\", new_height)\n            .attr(\"transform\", `translate(${(200 - new_width) / 2}, ${new_height * 0.05})`)\n        }\n      \n\n        // -----------------  rect 透明蒙板 ------------------------\n        // console.log(this.state.data.ddate)\n        // console.log(this.state.data.bdate)\n        let age = this.state.data.Death_Year - this.state.data.Birth_Year\n\n        console.log(age)\n\n        let svg = d3.select(\"#body\").append('svg')\n            .attr(\"width\", width).attr(\"height\", height)\n            .attr(\"transform\", `translate(0, ${- (100-age) * 1.8})`);\n\n        svg.append(\"rect\")\n            .attr(\"width\", width).attr(\"height\", 200)\n            .attr(\"fill\", \"white\")\n            .attr(\"opacity\", 0.35)\n    }\n\n\n    render() {\n        return (\n            <div id='DetailInfo' className='pane' style={{overflow : \"hidden\"}}>\n                <div className='header'>Detail Information</div>\n\n                {/* <div id = 'info' style={{ left : 200}}>  </div> */}\n\n                <Row justify=\"space-around\" align=\"middle\">\n\n                    <Col span={10} style={{ paddingTop: 10 }}>\n                        <Row>                       \n                            <div id='body' style={{ margin: 10 }}> </div>                       \n                        </Row>\n\n                        {/* <Row>\n                        <img width={100} style={{}} src=\"./img/ASPHYXIA.jpg\"/>\n                        </Row> */}\n\n                    </Col>\n\n                    <Col span={14} >\n                    \n                        <Descriptions title={this.state.ID} style={{ padding: 10 }} >\n                            <Descriptions.Item label=\"Sex\" span={2}>\n                                {this.state.data.Sex}\n                            </Descriptions.Item>\n                            \n                            <Descriptions.Item label=\"BMI\" span={2}>\n                                {this.state.data.BMI}\n                            </Descriptions.Item>\n\n                            <Descriptions.Item label=\"Birth Year\" span={2}>\n                                {this.state.data.Birth_Year}\n                            </Descriptions.Item>\n                            \n                            <Descriptions.Item label=\"Death Year\" span={2}>\n                                {this.state.data.Death_Year}\n                            </Descriptions.Item>\n                            \n                            <Descriptions.Item label=\"Death Age\" span={4}>\n                                {this.state.data.Death_Year - this.state.data.Birth_Year}\n                            </Descriptions.Item>\n\n                    \n                            \n\n                            <Descriptions.Item label=\"Death Cause\" span={4}>\n                                {this.state.data.Death_Cause}\n                            </Descriptions.Item>\n\n                            <Descriptions.Item label=\"Suicide Weapon\" span={2}>\n                                {this.state.data.Suicide_Weapon}\n                            </Descriptions.Item>     \n\n                            <Descriptions.Item label=\"\"  >\n                                <img width={50} style={{}} src={this.state.img}/>\n                            </Descriptions.Item>\n                            \n                        </Descriptions>\n\n                    </Col>\n\n                    {/* <Col span={1}></Col> */}\n\n                </Row>\n\n            </div>\n        )\n    }\n}","D:\\Code\\FDepVis\\src\\redux\\index.js",[],"D:\\Code\\FDepVis\\src\\redux\\actions.js",[],"D:\\Code\\FDepVis\\src\\redux\\reducers.js",[],"D:\\Code\\FDepVis\\src\\redux\\state.js",[],{"ruleId":"89","replacedBy":"90"},{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","severity":1,"message":"94","line":106,"column":14,"nodeType":"95","endLine":106,"endColumn":30},{"ruleId":"96","severity":1,"message":"97","line":27,"column":57,"nodeType":"98","messageId":"99","endLine":27,"endColumn":58},{"ruleId":"100","severity":1,"message":"101","line":175,"column":42,"nodeType":"98","messageId":"102","endLine":175,"endColumn":44},{"ruleId":"100","severity":1,"message":"101","line":226,"column":36,"nodeType":"98","messageId":"102","endLine":226,"endColumn":38},{"ruleId":"100","severity":1,"message":"101","line":229,"column":37,"nodeType":"98","messageId":"102","endLine":229,"endColumn":39},{"ruleId":"100","severity":1,"message":"101","line":263,"column":49,"nodeType":"98","messageId":"102","endLine":263,"endColumn":51},{"ruleId":"100","severity":1,"message":"103","line":265,"column":34,"nodeType":"98","messageId":"102","endLine":265,"endColumn":36},{"ruleId":"104","severity":1,"message":"105","line":313,"column":15,"nodeType":"106","messageId":"107","endLine":313,"endColumn":20},{"ruleId":"104","severity":1,"message":"108","line":357,"column":15,"nodeType":"106","messageId":"107","endLine":357,"endColumn":23},{"ruleId":"100","severity":1,"message":"101","line":184,"column":38,"nodeType":"98","messageId":"102","endLine":184,"endColumn":40},{"ruleId":"96","severity":1,"message":"97","line":206,"column":66,"nodeType":"98","messageId":"99","endLine":206,"endColumn":67},{"ruleId":"104","severity":1,"message":"109","line":3,"column":17,"nodeType":"106","messageId":"107","endLine":3,"endColumn":20},{"ruleId":"104","severity":1,"message":"110","line":3,"column":22,"nodeType":"106","messageId":"107","endLine":3,"endColumn":27},{"ruleId":"100","severity":1,"message":"101","line":50,"column":20,"nodeType":"98","messageId":"102","endLine":50,"endColumn":22},{"ruleId":"100","severity":1,"message":"101","line":66,"column":47,"nodeType":"98","messageId":"102","endLine":66,"endColumn":49},{"ruleId":"100","severity":1,"message":"101","line":82,"column":65,"nodeType":"98","messageId":"102","endLine":82,"endColumn":67},{"ruleId":"100","severity":1,"message":"101","line":86,"column":68,"nodeType":"98","messageId":"102","endLine":86,"endColumn":70},{"ruleId":"96","severity":1,"message":"97","line":55,"column":56,"nodeType":"98","messageId":"99","endLine":55,"endColumn":57},{"ruleId":"104","severity":1,"message":"111","line":69,"column":9,"nodeType":"106","messageId":"107","endLine":69,"endColumn":17},{"ruleId":"112","severity":1,"message":"113","line":103,"column":20,"nodeType":"114","messageId":"115","endLine":103,"endColumn":32},{"ruleId":"104","severity":1,"message":"116","line":137,"column":11,"nodeType":"106","messageId":"107","endLine":137,"endColumn":17},{"ruleId":"104","severity":1,"message":"117","line":157,"column":11,"nodeType":"106","messageId":"107","endLine":157,"endColumn":17},{"ruleId":"104","severity":1,"message":"118","line":211,"column":9,"nodeType":"106","messageId":"107","endLine":211,"endColumn":14},{"ruleId":"104","severity":1,"message":"119","line":230,"column":11,"nodeType":"106","messageId":"107","endLine":230,"endColumn":22},{"ruleId":"104","severity":1,"message":"120","line":231,"column":9,"nodeType":"106","messageId":"107","endLine":231,"endColumn":18},{"ruleId":"96","severity":1,"message":"97","line":259,"column":47,"nodeType":"98","messageId":"99","endLine":259,"endColumn":48},{"ruleId":"104","severity":1,"message":"121","line":277,"column":11,"nodeType":"106","messageId":"107","endLine":277,"endColumn":21},{"ruleId":"104","severity":1,"message":"122","line":307,"column":11,"nodeType":"106","messageId":"107","endLine":307,"endColumn":21},{"ruleId":"123","severity":1,"message":"124","line":310,"column":9,"nodeType":"125","messageId":"126","endLine":310,"endColumn":51},{"ruleId":"104","severity":1,"message":"127","line":346,"column":7,"nodeType":"106","messageId":"107","endLine":346,"endColumn":11},{"ruleId":"104","severity":1,"message":"128","line":4,"column":20,"nodeType":"106","messageId":"107","endLine":4,"endColumn":24},{"ruleId":"96","severity":1,"message":"97","line":42,"column":62,"nodeType":"98","messageId":"99","endLine":42,"endColumn":63},{"ruleId":"100","severity":1,"message":"101","line":78,"column":32,"nodeType":"98","messageId":"102","endLine":78,"endColumn":34},{"ruleId":"100","severity":1,"message":"101","line":80,"column":40,"nodeType":"98","messageId":"102","endLine":80,"endColumn":42},{"ruleId":"100","severity":1,"message":"101","line":90,"column":17,"nodeType":"98","messageId":"102","endLine":90,"endColumn":19},{"ruleId":"100","severity":1,"message":"101","line":99,"column":33,"nodeType":"98","messageId":"102","endLine":99,"endColumn":35},{"ruleId":"100","severity":1,"message":"101","line":105,"column":40,"nodeType":"98","messageId":"102","endLine":105,"endColumn":42},{"ruleId":"129","severity":1,"message":"130","line":186,"column":33,"nodeType":"95","endLine":186,"endColumn":82},"no-native-reassign",["131"],"no-negated-in-lhs",["132"],"jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","eqeqeq","Expected '===' and instead saw '=='.","unexpected","Expected '!==' and instead saw '!='.","no-unused-vars","'width' is assigned a value but never used.","Identifier","unusedVar","'segments' is assigned a value but never used.","'Tag' is defined but never used.","'Space' is defined but never used.","'allCount' is assigned a value but never used.","no-new-object","The object literal notation {} is preferrable.","NewExpression","preferLiteral","'margin' is assigned a value but never used.","'colors' is assigned a value but never used.","'xAxis' is assigned a value but never used.","'rectPadding' is assigned a value but never used.","'container' is assigned a value but never used.","'nameLabels' is assigned a value but never used.","'cardsEnter' is assigned a value but never used.","no-unreachable","Unreachable code.","ReturnStatement","unreachableCode","'data' is assigned a value but never used.","'List' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","no-global-assign","no-unsafe-negation"]